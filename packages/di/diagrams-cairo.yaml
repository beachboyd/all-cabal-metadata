homepage: http://projects.haskell.org/diagrams
changelog-type: markdown
hash: ac679978afbc42cbb596c448df305ab89a3b4dfa52a5a2939e3332304823a055
test-bench-deps: {}
maintainer: diagrams-discuss@googlegroups.com
synopsis: Cairo backend for diagrams drawing EDSL
changelog: ! "## [v1.4.1](https://github.com/diagrams/diagrams-cairo/tree/v1.4.1)
  (2018-05-17)\n\n- Allow `base-4.11` and `lens-4.16`\n- Add `Semigroup` instance
  for `Render Cairo V2 Double`\n- Drop GHC 7.8 support\n\n## [v1.4](https://github.com/diagrams/diagrams-cairo/tree/v1.4)
  (2016-10-26)\n\n- No significant changes, just bumping version for diagrams 1.4\n
  \ release\n\n- Allow `vector-0.12` (Hackage revision 1)\n- Allow `base-4.10` and
  `optparse-applicative-0.14` (Hackage rev 2)\n\n## [v1.3.1.2](https://github.com/diagrams/diagrams-cairo/tree/v1.3.1.2)
  (2016-08-22)\n\n- Require `optparse-applicative-0.13` and fix compilation error\n\n##
  [v1.3.1.1](https://github.com/diagrams/diagrams-cairo/tree/v1.3.1.1) (2016-08-16)\n\n-
  Allow `optparse-applicative-0.13`\n\n## [v1.3.1](https://github.com/diagrams/diagrams-cairo/tree/v1.3.1)
  (2016-06-16)\n\n- Bump upper bounds to allow:\n    - `base-4.9`\n    - `data-default-class-0.1`\n
  \   - `transformers-0.5.x`\n\n- New module `Diagrams.Backend.Cairo.Text` with better
  text support\n  (based on `pango`)\n\n## [v1.3.0.6](https://github.com/diagrams/diagrams-cairo/tree/v1.3.0.6)
  (2016-05-01)\n\n- allow `lens-4.14`\n- New module `Diagrams.Backend.Cairo.Text`
  (should have been minor\n  version bump; if you want to depend on this module please
  use\n  `diagrams-cairo-1.3.1` or later).\n\n[Full Changelog](https://github.com/diagrams/diagrams-cairo/compare/v1.3.0.5...v1.3.0.6)\n\n##
  [v1.3.0.5](https://github.com/diagrams/diagrams-cairo/tree/v1.3.0.5) (2015-09-29)\n\n
  \ - Allow `optparse-applicative-0.12`\n\n[Full Changelog](https://github.com/diagrams/diagrams-cairo/compare/v1.3.0.4...v1.3.0.5)\n\n##
  [v1.3.0.4](https://github.com/diagrams/diagrams-cairo/tree/v1.3.0.4) (2015-09-17)\n\n
  \ - Allow `lens-4.13`\n\n[Full Changelog](https://github.com/diagrams/diagrams-cairo/compare/v1.3.0.3...v1.3.0.4)\n\n##
  [v1.3.0.3](https://github.com/diagrams/diagrams-cairo/tree/v1.3.0.3) (2015-07-19)\n\n[Full
  Changelog](https://github.com/diagrams/diagrams-cairo/compare/v1.3.0.2...v1.3.0.3)\n\n##
  [v1.3.0.2](https://github.com/diagrams/diagrams-cairo/tree/v1.3.0.2) (2015-05-26)\n\n[Full
  Changelog](https://github.com/diagrams/diagrams-cairo/compare/v1.3.0.1...v1.3.0.2)\n\n##
  [v1.3.0.1](https://github.com/diagrams/diagrams-cairo/tree/v1.3.0.1)(2015-04-25)\n\n**Fixed
  bug:**\n\n- Reflection should be included in transformation returned by adjustDia
  [\\#63](https://github.com/diagrams/diagrams-cairo/issues/63)\n\n## [v1.3](https://github.com/diagrams/diagrams-cairo/tree/v1.3)(2015-04-19)\n\n-
  allow `lens-4.9`\n- update for `diagrams-1.3`\n\n## [v1.2.0.7](https://github.com/diagrams/diagrams-cairo/tree/v1.2.0.7)
  (2015-04-04)\n\n[Full Changelog](https://github.com/diagrams/diagrams-cairo/compare/v1.2.0.5...v1.2.0.7)\n\n**Fixed
  bugs:**\n\n- loop when rendering text [\\#59](https://github.com/diagrams/diagrams-cairo/issues/59)\n\n**Merged
  pull requests:**\n\n- remove Text module [\\#60](https://github.com/diagrams/diagrams-cairo/pull/60)
  ([bergey](https://github.com/bergey))\n\n## [v1.2.0.6] () (2015-01-12)\n\n- allow
  `lens-4.7`\n\n## [v1.2.0.5](https://github.com/diagrams/diagrams-cairo/tree/v1.2.0.5)
  (2014-12-25)\n\n[Full Changelog](https://github.com/diagrams/diagrams-cairo/compare/v1.2.0.4...v1.2.0.5)\n\n##
  [v1.2.0.4](https://github.com/diagrams/diagrams-cairo/tree/v1.2.0.4) (2014-11-17)\n\n[Full
  Changelog](https://github.com/diagrams/diagrams-cairo/compare/v1.2.0.3...v1.2.0.4)\n\n**Closed
  issues:**\n\n- expose gifRender [\\#55](https://github.com/diagrams/diagrams-cairo/issues/55)\n\n**Merged
  pull requests:**\n\n- Bump lens upper version bounds [\\#58](https://github.com/diagrams/diagrams-cairo/pull/58)
  ([RyanGlScott](https://github.com/RyanGlScott))\n\n- Update for new measure and
  size spec. [\\#57](https://github.com/diagrams/diagrams-cairo/pull/57) ([cchalmers](https://github.com/cchalmers))\n\n-
  Diagram B [\\#56](https://github.com/diagrams/diagrams-cairo/pull/56) ([jeffreyrosenbluth](https://github.com/jeffreyrosenbluth))\n\n-
  port to linear instead of vector-space [\\#54](https://github.com/diagrams/diagrams-cairo/pull/54)
  ([bergey](https://github.com/bergey))\n\n## [v1.2.0.3](https://github.com/diagrams/diagrams-cairo/tree/v1.2.0.3)
  (2014-10-08)\n\n[Full Changelog](https://github.com/diagrams/diagrams-cairo/compare/v1.2.0.2-1...v1.2.0.3)\n\n**Fixed
  bugs:**\n\n- --loop disables generating multiple files [\\#50](https://github.com/diagrams/diagrams-cairo/issues/50)\n\n**Merged
  pull requests:**\n\n- loop using fsnotify [\\#53](https://github.com/diagrams/diagrams-cairo/pull/53)
  ([bergey](https://github.com/bergey))\n\n## [v1.2.0.2-1](https://github.com/diagrams/diagrams-cairo/tree/v1.2.0.2-1)
  (2014-09-08)\n\n[Full Changelog](https://github.com/diagrams/diagrams-cairo/compare/v1.2.0.2...v1.2.0.2-1)\n\n##
  [v1.2.0.2](https://github.com/diagrams/diagrams-cairo/tree/v1.2.0.2) (2014-09-07)\n\n[Full
  Changelog](https://github.com/diagrams/diagrams-cairo/compare/v1.2.0.1...v1.2.0.2)\n\n##
  [v1.2.0.1](https://github.com/diagrams/diagrams-cairo/tree/v1.2.0.1) (2014-08-22)\n\n[Full
  Changelog](https://github.com/diagrams/diagrams-cairo/compare/v1.2...v1.2.0.1)\n\n**Closed
  issues:**\n\n- Problems with yellow color in gif animation [\\#51](https://github.com/diagrams/diagrams-cairo/issues/51)\n\n##
  [v1.2](https://github.com/diagrams/diagrams-cairo/tree/v1.2) (2014-06-02)\n\n[Full
  Changelog](https://github.com/diagrams/diagrams-cairo/compare/v1.1.0.1...v1.2)\n\n**New
  features**\n\n- Much improved text support using the `pango` library instead of\n
  \ cairo's \"toy\" text API.\n\n- Support for linear and radial gradients on strokes
  and fills.\n\n**Fixed bugs:**\n\n- textLineBoundedIO sometimes produces incorrect
  envelopes [\\#19](https://github.com/diagrams/diagrams-cairo/issues/19)\n\n**Closed
  issues:**\n\n- Mac OS X/XQuartz: Can't render single letter [\\#43](https://github.com/diagrams/diagrams-cairo/issues/43)\n\n**Merged
  pull requests:**\n\n- Pango [\\#49](https://github.com/diagrams/diagrams-cairo/pull/49)
  ([bergey](https://github.com/bergey))\n\n- fix text scaling [\\#48](https://github.com/diagrams/diagrams-cairo/pull/48)
  ([byorgey](https://github.com/byorgey))\n\n- DImage implemented [\\#47](https://github.com/diagrams/diagrams-cairo/pull/47)
  ([jeffreyrosenbluth](https://github.com/jeffreyrosenbluth))\n\n- Units [\\#46](https://github.com/diagrams/diagrams-cairo/pull/46)
  ([jeffreyrosenbluth](https://github.com/jeffreyrosenbluth))\n\n- Gradient [\\#37](https://github.com/diagrams/diagrams-cairo/pull/37)
  ([jeffreyrosenbluth](https://github.com/jeffreyrosenbluth))\n\n## [v1.1.0.1](https://github.com/diagrams/diagrams-cairo/tree/v1.1.0.1)
  (2014-03-19)\n\n[Full Changelog](https://github.com/diagrams/diagrams-cairo/compare/v1.1...v1.1.0.1)\n\n##
  [v1.1](https://github.com/diagrams/diagrams-cairo/tree/v1.1) (2014-03-09)\n\n[Full
  Changelog](https://github.com/diagrams/diagrams-cairo/compare/v1.0.1.2...v1.1)\n\n**New
  features**\n\n- It is now possible to directly output animated GIFs, using the\n
  \ `gifMain` function\n\n**Closed issues:**\n\n- Color conversions have huge impact
  on performance [\\#44](https://github.com/diagrams/diagrams-cairo/issues/44)\n\n**Merged
  pull requests:**\n\n- Fix documentation typo \\(subtable -\\> suitable\\) [\\#45](https://github.com/diagrams/diagrams-cairo/pull/45)
  ([robx](https://github.com/robx))\n\n## [v1.0.1.2](https://github.com/diagrams/diagrams-cairo/tree/v1.0.1.2)
  (2014-02-06)\n\n[Full Changelog](https://github.com/diagrams/diagrams-cairo/compare/v1.0.1.1...v1.0.1.2)\n\n**Closed
  issues:**\n\n- Build failure for GHC 7.4 [\\#42](https://github.com/diagrams/diagrams-cairo/issues/42)\n\n##
  [v1.0.1.1](https://github.com/diagrams/diagrams-cairo/tree/v1.0.1.1) (2014-01-30)\n\n[Full
  Changelog](https://github.com/diagrams/diagrams-cairo/compare/v1.0.1...v1.0.1.1)\n\n##
  [v1.0.1](https://github.com/diagrams/diagrams-cairo/tree/v1.0.1) (2014-01-26)\n\n[Full
  Changelog](https://github.com/diagrams/diagrams-cairo/compare/v1.0...v1.0.1)\n\n**Merged
  pull requests:**\n\n- Add Hashable instance for Options Cairo R2 [\\#41](https://github.com/diagrams/diagrams-cairo/pull/41)
  ([byorgey](https://github.com/byorgey))\n\n- Making animated GIFs directly from
  diagrams using Cairo. [\\#40](https://github.com/diagrams/diagrams-cairo/pull/40)
  ([jeffreyrosenbluth](https://github.com/jeffreyrosenbluth))\n\n## [v1.0](https://github.com/diagrams/diagrams-cairo/tree/v1.0)
  (2013-11-25)\n\n[Full Changelog](https://github.com/diagrams/diagrams-cairo/compare/v0.7...v1.0)\n\n**New
  Features**\n\n- Re-implement via new backend `RTree` interface.\n\n- Use new command-line
  interface from `diagrams-lib`.\n\n- Export `B` as an alias for `Cairo` token.\n\n**Fixed
  bugs:**\n\n- opacity does not affect text [\\#15](https://github.com/diagrams/diagrams-cairo/issues/15)\n\n**Merged
  pull requests:**\n\n- Backend tree conversion [\\#36](https://github.com/diagrams/diagrams-cairo/pull/36)
  ([byorgey](https://github.com/byorgey))\n\n- Lens [\\#35](https://github.com/diagrams/diagrams-cairo/pull/35)
  ([jeffreyrosenbluth](https://github.com/jeffreyrosenbluth))\n\n## [v0.7](https://github.com/diagrams/diagrams-cairo/tree/v0.7)
  (2013-08-09)\n\n[Full Changelog](https://github.com/diagrams/diagrams-cairo/compare/v0.6...v0.7)\n\n**New
  features**\n\n- New `renderCairo` function for more convenient use of the cairo\n
  \ backend.\n\n- Lots of Haddock documentation improvements.\n\n**Fixed bugs:**\n\n-
  Lines should not be filled [\\#32](https://github.com/diagrams/diagrams-cairo/issues/32)\n\n**Merged
  pull requests:**\n\n- Updates for new trail API. [\\#31](https://github.com/diagrams/diagrams-cairo/pull/31)
  ([byorgey](https://github.com/byorgey))\n\n## [v0.6](https://github.com/diagrams/diagrams-cairo/tree/v0.6)
  (2012-12-12)\n\n**New features**\n\n- New `--list` option for `multiMain` to list
  all available diagrams\n\n- Major documentation improvements\n\n- New modules:\n\n
  \ + `Diagrams.Backend.Cairo.Ptr`, for rendering directly to buffers\n    in memory\n\n
  \ + `Diagrams.Backend.Cairo.List`, for rendering to a list of lists\n  of pixels.\n\n**API
  changes**\n\n- Removal of `StyleParam` from `Diagrams.Backend.Cairo.Text`, change\n
  \ functions in that module to accept `Style R2`.  Usage can be fixed\n  by applying
  these style functions to `mempty`.\n\n- GTK rendering has been split out into a
  new package, diagrams-gtk.\n\n+ The `Diagrams.Backend.Cairo.Gtk` module is now\n
  \ `Diagrams.Backend.Gtk` in the `diagrams-gtk` package.\n\n+ The `CairoOptions`
  record has a new boolean `cairoBypassAdjust`\n  option; when set, the backend should
  bypass calling `adjustDia2D`.\n\n+ The GTK output type is gone.\n\n+ There is a
  new `RenderOnly` output type, for when you don't\n  care about the `IO` action but
  only want the cairo `Render` action.\n\n**Fixed bugs:**\n\n- old-time and 7.6 [\\#21](https://github.com/diagrams/diagrams-cairo/issues/21)\n\n-
  Use of deprecated 'try' function in Diagrams.Backend.Cairo.Internal [\\#12](https://github.com/diagrams/diagrams-cairo/issues/12)\n\n-
  Better error message when image file does not exist [\\#11](https://github.com/diagrams/diagrams-cairo/issues/11)\n\n-
  Path doesn't get resized correctly when no transformations are applied to it [\\#6](https://github.com/diagrams/diagrams-cairo/issues/6)\n\n-
  Make Cairo backend smarter about missing attributes [\\#4](https://github.com/diagrams/diagrams-cairo/issues/4)\n\n-
  Attribute transformations are not handled correctly when rendering [\\#3](https://github.com/diagrams/diagrams-cairo/issues/3)\n\n**Closed
  issues:**\n\n- vector-space-0.8.5 breaks compilation [\\#27](https://github.com/diagrams/diagrams-cairo/issues/27)\n\n-
  ‘cairoBypassAdjust’ undocumented [\\#23](https://github.com/diagrams/diagrams-cairo/issues/23)\n\n-
  Improve diagrams-cairo documentation [\\#10](https://github.com/diagrams/diagrams-cairo/issues/10)\n\n**Merged
  pull requests:**\n\n- Additional rendering functions, for Ptr Word8 and \\[\\[Colour
  a\\]\\] [\\#25](https://github.com/diagrams/diagrams-cairo/pull/25) ([haasn](https://github.com/haasn))\n\n-
  `old-time` to `time` [\\#22](https://github.com/diagrams/diagrams-cairo/pull/22)
  ([fryguybob](https://github.com/fryguybob))\n\n- split out gtk rendering into a
  separate package [\\#20](https://github.com/diagrams/diagrams-cairo/pull/20) ([byorgey](https://github.com/byorgey))\n\n-
  use requiredScaleT in place of deprecated adjustSize [\\#17](https://github.com/diagrams/diagrams-cairo/pull/17)
  ([byorgey](https://github.com/byorgey))\n\n- call setDefault2DAttributes even when
  bypassing size adjustments [\\#16](https://github.com/diagrams/diagrams-cairo/pull/16)
  ([byorgey](https://github.com/byorgey))\n\n## [v0.5.0.2]() (13 May 2012)\n\n* Allow
  building under `mtl` 2.1.*\n\n## [v0.5.0.1]() (9 March 2012)\n\n* Remove statement
  in package description that a development version\n    of `gtk2hs` must be used
  with GHC 7.4; this is no longer true as of\n    the 0.12.3 release of `gtk2hs`.\n\n##
  [v0.5]() (March 2012)\n\n**New features**\n\n- New `Diagrams.Backend.Cairo.Text`
  module by Michael Sloan, with\n  functions for creating appropriately sized text
  objects by\n  querying cairo for the size, and related supporting functions.\n\n-
  Basic support for animation with `animMain` function, by\n  generating frames sampled
  at regular intervals.\n\n- Proper vertical alignment of default text based on font\n
  \ parameters (Michael Sloan).\n\n- Requesting just a width or height now causes
  the other to be\n  computed appropriately.\n\n**API changes**\n\n- Move `Diagrams.Backend.Cairo`
  to\n  `Diagrams.Backend.Cairo.Internal` and export everything.\n  `Diagrams.Backend.Cairo`
  now just re-exports selected functions\n  from `Internal`.  This allows anyone who
  wants access to the\n  helper/utility functions to import `Internal`.\n\n**Dependency/version
  changes**\n\n- relax `cmdargs` upper bound\n\n- GHC 7.4.1 compatibility: update
  `base`, `filepath`, and\n  `old-time` upper bounds\n\n**Bug fixes**\n\n- [\\#54](http://code.google.com/p/diagrams/issues/detail?id=54):
  Generate warning for missing image files (Ian Ross).\n\n## [v0.4]() (22 October
  2011)\n\n* New features:\n\n  + Support for drawing directly to Gtk widgets\n\n
  \   + Support for path fill rule attribute\n\n* New/improved examples\n\n* Improved
  documentation\n\n* Bug fixes:\n\n    + Warning for unsupported image types (#41)\n\n##
  [v0.3]() (18 June 2011)\n\n* Some new/improved examples\n\n* New features:\n\n    +
  simple text support\n\n    + simple support for external PNG images\n\n## [v0.2]()
  (3 June 2011)\n\n* add `Typeable` and other instances for `Cairo` type\n\n* generalize
  `Result` type to `(IO (), Render ())`, so programs that\n    don't want to generate
  a file but just want a `Render` operation\n    (*e.g.* to use to paint a gtk window)
  can use the second component.\n\n* add support for opacity attribute and path clipping\n\n##
  [v0.1.2]() (18 May 2011)\n\n* link to new website\n\n## [v0.1.1]() (18 May 2011)\n\n*
  fix tic-tac-toe example\n\n## [v0.1]() (17 May 2011)\n\n* initial preview release\n\n\n\\*
  *This Change Log was automatically generated by (and hand edited) [github_changelog_generator](https://github.com/skywinder/Github-Changelog-Generator)*\n"
basic-deps:
  diagrams-lib: ! '>=1.3 && <1.5'
  pango: ! '>=0.12.5 && <0.14'
  JuicyPixels: ! '>=3.1.3.2 && <3.3'
  bytestring: ! '>=0.9 && <0.11'
  unix: ! '>=2.4 && <2.8'
  split: ! '>=0.1.2 && <0.3'
  base: ! '>=4.2 && <4.12'
  data-default-class: ! '>=0.0.1 && <0.2'
  filepath: -any
  cairo: ! '>=0.12.4 && <0.14'
  array: ! '>=0.4.0 && <0.6'
  containers: ! '>=0.3 && <0.6'
  lens: ! '>=3.8 && <4.17'
  mtl: ! '>=2.0 && <2.3'
  hashable: ! '>=1.1 && <1.3'
  diagrams-core: ! '>=1.3 && <1.5'
  colour: -any
  transformers: ! '>=0.3 && <0.6'
  optparse-applicative: ! '>=0.13 && <0.15'
  statestack: ! '>=0.2 && <0.3'
  vector: ! '>=0.10.0 && <0.13'
all-versions:
- '0.1'
- '0.1.1'
- '0.1.2'
- '0.2'
- '0.3'
- '0.4'
- '0.5'
- '0.5.0.1'
- '0.5.0.2'
- '0.6'
- '0.7'
- '1.0'
- '1.0.1'
- '1.0.1.1'
- '1.0.1.2'
- '1.1'
- '1.1.0.1'
- '1.1.0.2'
- '1.2'
- '1.2.0.1'
- '1.2.0.2'
- '1.2.0.3'
- '1.2.0.4'
- '1.2.0.5'
- '1.2.0.6'
- '1.2.0.7'
- '1.3'
- '1.3.0.1'
- '1.3.0.2'
- '1.3.0.3'
- '1.3.0.4'
- '1.3.0.5'
- '1.3.0.6'
- '1.3.1'
- '1.3.1.1'
- '1.3.1.2'
- '1.4'
- '1.4.1'
author: Brent Yorgey
latest: '1.4.1'
description-type: markdown
description: ! "[![Build Status](https://travis-ci.org/diagrams/diagrams-cairo.png?branch=master)](http://travis-ci.org/diagrams/diagrams-cairo)\n\n_diagrams-cairo_
  is a rendering backend for [diagrams], a powerful,\nflexible, declarative domain-specific
  language for creating vector graphics,\nusing the [Haskell programming language][haskell].\n\n[diagrams]:
  http://projects.haskell.org/diagrams/\n[haskell]: http://www.haskell.org/haskellwiki/Haskell\n\n_diagrams-cairo_
  is implemented using the [cairo] rendering engine and\nis a fully-featured, officially
  supported backend for diagrams.\n\n[cairo]: http://www.cairographics.org/\n\n# Installation\n\n```\ncabal
  update && cabal install gtk2hs-buildtools diagrams-cairo\n```\n\n# Basic usage\n\nA
  simple example that uses _diagrams-cairo_ to draw a blue circle:\n\n```haskell\nimport
  Diagrams.Prelude\nimport Diagrams.Backend.Cairo.CmdLine\n\nd = circle 1 # fc blue\n\nmain
  = mainWith (pad 1.1 d)\n```\n\nSave this to file named `Circle.hs` and compile it:\n\n```\nghc
  --make Circle.hs\n```\n\nThis will generate an executable which, when run, outputs
  a blue\ncircle to some file. Run the executable with the `--help` option to\nfind
  out more about how to call it.\n\n```\n$ ./Circle --help\n./Circle\n\nUsage: ./Circle
  [-w|--width WIDTH] [-h|--height HEIGHT] [-o|--output OUTPUT]\n                [--loop]
  [-s|--src ARG] [-i|--interval INTERVAL]\n  Command-line diagram generation.\n\nAvailable
  options:\n  -?,--help                Show this help text\n  -w,--width WIDTH         Desired
  WIDTH of the output image\n  -h,--height HEIGHT       Desired HEIGHT of the output
  image\n  -o,--output OUTPUT       OUTPUT file\n  -l,--loop                Run in
  a self-recompiling loop\n  -s,--src ARG             Source file to watch\n  -i,--interval
  INTERVAL   When running in a loop, check for changes every INTERVAL seconds.\nommand-line
  diagram generation.\n```\n\nThe output type will be automatically determined from
  the file\nextension.  Currently PNG, PDF, PS, and SVG are supported.\n\n```\n$ ./Circle
  -o circle.png -w 400\n```\n\nThe command above generates a PNG file with a width
  of 400px.\n\n# Advanced usage\n\nInstead of just creating a standalone executable,
  the cairo backend\ncan also be called from within a larger program.  For more\ninformation,
  see the Diagram.Backend.Cairo module.\n"
license-name: BSD3

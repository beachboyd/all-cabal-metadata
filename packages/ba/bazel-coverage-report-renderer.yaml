homepage: https://github.com/tweag/rules_haskell#readme
changelog-type: ''
hash: 23edc269d8f50255342eeb2ce20a3d5a8e21ef6852dc27d533933216bc055fc0
test-bench-deps: {}
maintainer: m@tweag.io
synopsis: HTML Coverage Reports for Rules_Haskell
changelog: ''
basic-deps:
  MissingH: ! '>=1.4.1.0 && <1.5'
  base: ! '>=4.12.0.0 && <4.13'
  filepath: ! '>=1.4.2.1 && <1.5'
  hxt: ! '>=9.3.1.16 && <9.4'
  hxt-xpath: ! '>=9.1.2.2 && <9.2'
  cmdargs: ! '>=0.10.20 && <0.11'
  listsafe: ! '>=0.1.0.1 && <0.2'
  directory: ! '>=1.3.3.0 && <1.4'
all-versions:
- 0.1.0
author: Tweag I/O Limited
latest: 0.1.0
description-type: markdown
description: "# coverage-reports\n\nAn executable which reads Bazel `test.xml` test
  results generated by \n`bazel coverage` for Rules_Haskell's `haskell_test` rule.
  These rules must have\n`coverage_report_format` set to `\"html\"` to be compatible
  with this tool.\n\n## Example Usage\n\nIf we have a target defined by the Rules_Haskell
  `haskell_test` rule, such as:\n\n```\nhaskell_test(\n    name = \"two-libs\",\n
  \   srcs = [\n        ...\n    ],\n    coverage_report_format = \"html\", # this
  must be set to \"html\" (not \"text\")\n    expected_covered_expressions_percentage
  = ...,\n    expected_uncovered_expression_count = ...,\n    deps = [\n        ...\n
  \   ],\n)\n```\n\nIf we run `bazel coverage //path/to/package:two-libs`, the HTML
  report files\nwill be appended to the test log (visible with `--test_output=all`
  set, or by\nlooking in the `bazel-testlogs` directory at the relevant `test.xml`
  file).\nBazel test rules cannot generate output files, hence why we append the HTML\nreports
  directly into the testlog.\n\nNext, to extract the HTML reports and make them viewable
  in a browser, we use\nthis tool, the `bazel-coverage-report-renderer`. It's as simple
  as running:\n\n```\nbazel-coverage-report-renderer \\\n    --testlog=<path/to/bazel-testlogs>/<path/to/package>two-libs/test.xml
  \\\n    --destdir=path/to/destination/directory>\n```\n\nThe tool will tell you
  where you can find the resulting files. The\n`hpc_index.html` file is the homepage
  for your coverage results.\n\n"
license-name: Apache-2.0

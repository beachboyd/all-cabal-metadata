homepage: http://github.com/travitch/taffybar
changelog-type: markdown
hash: c3bd878b9cc64a232598b3d99f423f801389baec4d090ce1372a0fec0c03370a
test-bench-deps: {}
maintainer: tristan@nochair.net
synopsis: A desktop bar similar to xmobar, but with more GUI
changelog: ! "# 1.0.2\n\n## Bug Fixes\n\n * Fix long standing memory leak that was
  caused by a failure to free memory\n   allocated for gtk pixbufs.\n\n# 1.0.0\n\n##
  Breaking Changes\n\n * Migrate from Gtk2 to Gtk3, which replaces rc theming with
  css theming (Ivan Malison)\n\n## New Features\n\n * Support for taffybar on multiple
  monitors (Ivan Malison)\n * D-Bus toggling of taffybar per monitor (Ivan Malison)\n
  * A new workspace switcher widget called WorkspaceHUD (Ivan Malison)\n * Support
  for multiple batteries via ``batteryContextsNew`` (Edd Steel)\n * Add support for
  IO actions to configure vertical bar widgets\n * Images in WorkspaceSwitcher - images
  are taken from EWMH via \\_NET\\_WM_ICON (Elliot Wolk)\n * Preliminary support for
  i3wm (Saksham Sharma)\n * Support for multiple network interfaces in NetMonitor
  (Robert Klotzner)\n * Add a pager config field that configures the construction
  of window switcher titles (Ivan Malison)\n * Quick start script for installing from
  git with stack (Ivan Malison)\n * Add a volume widget (Nick Hu and Abdul Sattar)\n
  * Add available memory field to MemoryInfo (Will Price)\n * The freedesktop.org
  notifications widget now allows for notifications to\n   never expire and can handle
  multiple notifications at once. In particular the\n   default formatter now shows
  the number of pending notifications (Daniel\n   Oliveira)\n * Battery bar is more
  informative (Samshak Sharma)\n * Network monitor speeds are auto formatted to use
  the most appropriate units (TeXitoi)\n * A new freedesktop.org menu widget (u11gh)\n\n...and
  many smaller tweaks.\n\n## Bug Fixes\n\n * Fixes for outdated weather information
  sources\n * Various styling fixes in the gtkrc code\n * Share a single X11Connection
  between all components to fix the `user error\n   (openDisplay)` error (Ivan Malison)\n
  * Call initThreads at startup. This fixes ```taffybar-linux-x86_64:\n   xcb_io.c:259:
  poll_for_event: Assertion `!xcb_xlib_threads_sequence_lost'\n   failed.``` (Ivan
  Malison)\n * Add an eventBox to window switcher to allow setting its background
  (Ivan Malison)\n * #105 Prevent taffybar from crashing when two windows are closed\n
  \  simultaneously, or when taffybar otherwise requests data about a window that\n
  \  no longer exists.\n\n# 0.4.6\n\n * Fix a longstanding bug in loading .rc files
  (Peder Stray)\n * Add support for scrolling in the workspace switcher (Saksham Sharma)\n
  * Improve default formatting of empty workspaces in the pager (Saksham Sharma)\n
  * Relax gtk version bounds\n\n# 0.4.5\n\n * GHC 7.10 compat\n\n# 0.4.4\n\n * Fix
  compilation with gtk 0.13.1\n\n# 0.4.3\n\n * Try again to fix the network dependency\n\n#
  0.4.2\n\n * Expand the version range for time\n * Depend on network-uri instead
  of network\n\n# 0.4.1\n\n * Make the clock react to time zone changes\n\n# 0.4.0\n\n##
  Features\n\n * Resize the bar when the screen configuration changes (Robert Helgesson)\n
  * Support bypassing `dyre` by exposing `taffybarMain` (Christian Hoener zu Siederdissen)\n
  * Textual CPU and memory monitors (Zakhar Voit)\n * A new window switcher menu in
  the pager (José Alfredo Romero L)\n * Dynamic workspace support in the workspace
  switcher (Nick Hu)\n * More configurable network monitor (Arseniy Seroka)\n * New
  widget: text-based command runner (Arseniy Seroka)\n * The Graph widget supports
  lines graphs (via graphDataStyles) (Joachim Breitner)\n * Compile with gtk2hs 0.13\n\n##
  Bug Fixes\n\n * Reduce wakeups by tweaking the default GHC RTS options (Joachim
  Breitner)\n * UTF8 fixes (Nathan Maxson)\n * Various fixes to EWMH support (José
  Alfredo Romero L)\n\n## Deprecations\n\nThe `XMonadLog` module is deprecated.  This
  module let taffybar display XMonad desktop information through a dbus connection.
  \ The EWMH desktop support by José Alfredo Romero L is better in every way, so that
  (through TaffyPager) is the recommended replacement.  Upgrading should be straightforward.\n\n\n#
  0.3.0:\n\n * A new pager (System.Taffybar.TaffyPager) from José A. Romero L.  This
  pager is a drop-in replacement for the dbus-based XMonadLog widget.  It communicates
  via X atoms and EWMH like a real pager.  It even supports changing workspaces by
  clicking on them.  I recommend this over the old widget.\n * Added an MPRIS2 widget
  (contributed by Igor Babuschkin)\n * Ported to use the newer merged dbus library
  instead of dbus-client/dbus-core (contributed by CJ van den Berg)\n * Finally have
  the calendar widget pop up over the date/time widget (contributed by José A. Romero)\n
  * GHC 7.6 compatibility\n * Vertical bars can now have dynamic background colors
  (suggested by Elliot Wolk)\n * Bug fixes\n\n# 0.2.1:\n\n * More robust strut handling
  for multiple monitors of different sizes (contributed by Morgan Gibson)\n * New
  widgets from José A. Romero (network monitor, fs monitor, another CPU monitor)\n
  * Allow the bar widget to grow vertically (also contributed by José A. Romero)\n\n#
  0.2.0:\n\n * Add some more flexible formatting options for the XMonadLog widget
  (contributed by cnervi).\n * Make the PollingLabel more robust with an exception
  handler for IOExceptions\n * Added more documentation for a few widgets\n\n# 0.1.3:\n\n
  * Depend on gtk 0.12.1+ to be able to build under ghc 7.2\n * Fix the background
  colors in the calendar so that it follows the GTK theme instead of the bar-specific
  color settings\n * Fix the display of non-ASCII window titles in the XMonad log
  applet (assuming you use the dbusLog function)\n * Add a horrible hack to force
  the bar to not resize to be larger than the screen due to notifications or long
  window titles\n\n# 0.1.2:\n\n * Readable widget for freedesktop notifications\n
  * Fixed a few potential deadlocks on startup\n * Use the GTK+ rc-file styling system
  for colors instead of hard coding them\n"
basic-deps:
  ConfigFile: -any
  xdg-basedir: ! '>=0.2 && <0.3'
  haskell-gi-base: -any
  either: ! '>=4.0.0.0'
  dyre: ! '>=0.8.6 && <0.9'
  unix: -any
  split: ! '>=0.1.4.2'
  stm: -any
  HStringTemplate: ! '>=0.8 && <0.9'
  base: ! '>3 && <5'
  time: ! '>=1.4 && <1.9'
  multimap: ! '>=1.2.1'
  taffybar: -any
  time-units: ! '>=1.0.0'
  text: -any
  tuple: ! '>=0.3.0.2'
  gtk-traymanager: ! '>=1.0.1 && <2.0.0'
  glib: -any
  X11: ! '>=1.5.0.1'
  enclosed-exceptions: ! '>=1.0.0.1'
  gi-gtk: -any
  gtk3: ! '>=0.14.9'
  gi-gdk: -any
  xmonad-contrib: -any
  filepath: -any
  process: ! '>=1.0.1.1'
  cairo: -any
  network: ! '>=2.6 && <3'
  parsec: ! '>=3.1'
  alsa-mixer: ! '>=0.2.0'
  xmonad: -any
  xml: -any
  containers: -any
  utf8-string: -any
  old-locale: -any
  rate-limit: ! '>=1.1.1'
  network-uri: ! '>=2.6 && <3'
  mtl: ! '>=2'
  transformers-base: ! '>=0.4'
  HTTP: -any
  dbus: ! '>=1.0.0 && <2.0.0'
  transformers: ! '>=0.3.0.0'
  gi-gdkpixbuf: ! '>=2.0.15'
  gi-gdkx11: -any
  safe: ! '>=0.3 && <1'
  time-locale-compat: ! '>=0.1 && <0.2'
  directory: -any
  xml-helpers: -any
all-versions:
- '0.1.0'
- '0.1.1'
- '0.1.2'
- '0.1.3'
- '0.2.0'
- '0.2.1'
- '0.3.0'
- '0.4.0'
- '0.4.1'
- '0.4.2'
- '0.4.3'
- '0.4.4'
- '0.4.5'
- '0.4.6'
- '1.0.0'
- '1.0.1'
- '1.0.2'
author: Tristan Ravitch
latest: '1.0.2'
description-type: markdown
description: ! 'Taffybar

  ==========

  [![Hackage](https://img.shields.io/hackage/v/taffybar.svg)](https://hackage.haskell.org/package/taffybar)

  [![Build Status](https://travis-ci.org/travitch/taffybar.svg?branch=master)](https://travis-ci.org/travitch/taffybar)

  [![Gitter chat](https://badges.gitter.im/gitterHQ/gitter.png)](https://gitter.im/taffybar/Lobby)

  [![License BSD3](https://img.shields.io/badge/license-BSD3-green.svg?dummy)](https://github.com/travitch/taffybar/blob/master/LICENSE)


  ![](https://github.com/travitch/taffybar/blob/master/doc/screenshot.png)


  Taffybar is a gtk+3 (through gtk2hs) based desktop information bar, intended

  primarily for use with XMonad, though it can also function alongside other EWMH

  compliant window managers. It is similar in spirit to xmobar, but it differs in

  that it gives up some simplicity for a reasonable helping of eye candy.


  Development Status

  ------------------


  Taffybar is under active development and has many exciting but potentially

  breaking changes ahead. All of the planned changes that will be occuring in the

  near future are tracked in [this github

  project](https://github.com/travitch/taffybar/projects/1). Particularly

  significant is [#265](https://github.com/travitch/taffybar/issues/265) which is

  actually already complete, and available in [this

  branch](https://github.com/travitch/taffybar/tree/use_gtk-strut). New users are

  encouraged to build from source and use this aforementioned branch to avoid

  having to rewrite their configs when the new version of taffybar is released.


  Installation

  ------------


  Taffybar can be installed in a number of different ways:


  ### Stack


  Though it is admittedly a bit complicated to set up properly, using stack is the

  preferred approach for installing taffybar, because it makes the build process

  stable and repeatable. Even if you are unfamiliar with stack, or even haskell in

  general, you should be able to get things working by using the taffybar''s

  quick-start script:


  ```

  curl -sSL https://raw.githubusercontent.com/travitch/taffybar/master/quick-start.sh
  | bash

  ```


  This script will clone the taffybar repository into a subdirectory of the

  default taffybar configuration directory, and copy the example cabal, stack and

  taffybar.hs files into the same location. It will then install a binary

  `my-taffybar` to `$HOME/.local/bin`, which can be executed to run taffybar. Note

  that with this approach, running the `taffybar` binary WILL NOT work; you must

  run the binary that is produced by the stack build in your local directory. The

  name of the binary can be changed in the cabal file in the taffybar

  configuration directory.



  ### Cabal


  Cabal installation is a simple matter of installing taffybar from hackage:

  ```

  cabal install taffybar

  ```


  Configuration

  -------------


  Like xmobar and XMonad, taffybar is configured in haskell. Taffybar depends on

  dyre to automatically detect changes to its configuration file

  ($XDG_CONFIG_HOME/taffybar/taffybar.hs) and recompile when appropriate.


  For more details about how to configure taffybar, see the [full documentation](https://hackage.haskell.org/package/taffybar).

'
license-name: BSD3

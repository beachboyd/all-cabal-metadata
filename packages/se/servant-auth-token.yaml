homepage: https://github.com/ncrashed/servant-auth-token#readme
changelog-type: markdown
hash: d16c2673e64cfa84b4844ffcfcdc1d453bd5a444713d00b8f99663279e3ca5f0
test-bench-deps: {}
maintainer: ncrashed@gmail.com
synopsis: Servant based API and server for token based authorisation
changelog: ! "0.5.5.0\n=======\n\n* Allow passing client side hashed password to signin
  endpoint. \n\n0.5.4.0\n=======\n\n* Bump versions for `lts-12.9`.\n\n0.5.3.0\n=======\n\n*
  Support `servant-0.13`.\n\n0.5.2.0\n=======\n\n* Support `servant-0.12`.\n\n0.5.1.0\n=======\n\n*
  Versions bounds are relaxed.\n\n0.5.0.0\n=======\n\n* Fix typo in `invalidatePermanentCodes`.\n*
  Servant combinator.\n* Rename migration function.\n\n0.4.7.1\n=======\n\n* Relax
  `servant` and `servant-server` versions.\n\n0.4.7.0\n=======\n\n* Make `withAuthToken`
  work properly.\n\n0.4.6.0\n=======\n\n* Add `withAuthToken` to guard groups of endpoints.\n\n0.4.5.0\n=======\n\n*
  Auto deriving `HasAuthConfig` and `HasStorage` for transformers.\n\n0.4.4.1\n=======\n\n*
  `persistent-postgresql` is not actually used\n\n0.4.4.0\n=======\n\n* Add `signinByHashUnsafe`
  for internal usage.\n\n0.4.3.0\n=======\n\n* Implementation for `AuthFindUserByLogin`
  endpoint.\n* Feature to manipulate with hashes of passwords. For instance, now you
  can store\nhashed admin password in config.\n\n0.4.2.0\n=======\n\n* Add implementation
  for `AuthCheckPermissionsMethod` and `AuthGetUserIdMethod` endpoints.\n\n0.4.1.1\n=======\n\n*
  Relax `aeson` and `opt-parse-applicative` bounds.\n* Add `monad-control` instances.\n\n0.4.1.0\n=======\n\n*
  Remove persistent dependencies from abstract package.\n\n0.4.0.0\n=======\n\n* Abstract
  over storage: persistent and acid-state backends.\n\n0.3.2.0\n=======\n\n* Support
  lts-7.1 (ghc 8 and persistent-0.6)\n\n0.3.0.0\n=======\n\n* Add authorisation by
  single usage codes.\n\n0.2.0.1\n=======\n\n* Relax boundaries for ghc 8.0.1.\n\n0.2.0.0\n=======\n\n*
  Implement `servant-auth-token-0.2.0.0` API.\n\n0.1.2.0\n=======\n\n* Expose implementation
  of API for embedding in complex servers.\n\n0.1.1.0\n=======\n\n* Added `restoreCodeGenerator`
  to configuration\n\n0.1.0.0\n=======\n\n* Initial publication\n"
basic-deps:
  bytestring: ! '>=0.10 && <0.11'
  servant-auth-token-api: ! '>=0.5 && <0.6'
  wai: ! '>=3.2 && <3.3'
  base: ! '>=4.8 && <5'
  time: ! '>=1.5 && <1.9'
  text: ! '>=1.2 && <1.3'
  uuid: ! '>=1.3 && <1.4'
  http-api-data: ! '>=0.3.5 && <0.4'
  servant-server: ! '>=0.11 && <0.15'
  servant: ! '>=0.11 && <0.15'
  aeson-injector: ! '>=1.1 && <1.2'
  containers: ! '>=0.5 && <0.6'
  mtl: ! '>=2.2 && <2.3'
  pwstore-fast: ! '>=2.4 && <2.5'
  byteable: ! '>=0.1 && <0.2'
  transformers: ! '>=0.4 && <0.6'
all-versions:
- '0.1.0.0'
- '0.1.1.0'
- '0.1.2.0'
- '0.2.0.0'
- '0.2.0.1'
- '0.3.1.0'
- '0.3.2.0'
- '0.4.0.0'
- '0.4.1.0'
- '0.4.1.1'
- '0.4.2.0'
- '0.4.3.0'
- '0.4.4.0'
- '0.4.4.1'
- '0.4.5.0'
- '0.4.7.0'
- '0.4.7.1'
- '0.5.0.0'
- '0.5.1.0'
- '0.5.2.0'
- '0.5.3.0'
- '0.5.4.0'
- '0.5.5.0'
author: ! 'Anton Gushcha <ncrashed@gmail.com>

  , Ivan Lazar Miljenovic <Ivan.Miljenovic@gmail.com>'
latest: '0.5.5.0'
description-type: markdown
description: ! "# servant-auth-token\n\n[![Build Status](https://travis-ci.org/NCrashed/servant-auth-token.svg?branch=master)](https://travis-ci.org/NCrashed/servant-auth-token)\n\nThe
  repo contains server implementation of [servant-auth-token-api](https://github.com/NCrashed/servant-auth-token-api).\n\n#
  How to add to your server\n\nAt the moment you have two options for backend storage:\n\n-
  [persistent backend](https://github.com/NCrashed/servant-auth-token/tree/master/servant-auth-token-persistent)
  - [persistent](https://hackage.haskell.org/package/persistent) backend, simple to
  integrate with your app.\n\n- [acid-state backend](https://github.com/NCrashed/servant-auth-token/tree/master/servant-auth-token-acid)
  - [acid-state](https://hackage.haskell.org/package/acid-state) backend is light
  solution for in memory storage, but it is more difficult to integrate it with your
  app.\n\n- Possible candidates for other storage backends: VCache, leveldb, JSON
  files. To see how to implement them, see [HasStorage](https://github.com/NCrashed/servant-auth-token/blob/master/src/Servant/Server/Auth/Token/Model.hs#L220)
  type class.\n\nNow you can use 'guardAuthToken' to check authorization headers in
  endpoints of your server:\n\n``` haskell\n-- | Read a single customer from DB\ncustomerGet
  :: CustomerId -- ^ Customer unique id\n  -> MToken '[\"customer-read\"] -- ^ Required
  permissions for auth token\n  -> ServerM Customer -- ^ Customer data\ncustomerGet
  i token = do\n  guardAuthToken token\n  runDB404 \"customer\" $ getCustomer i\n```\n"
license-name: BSD3

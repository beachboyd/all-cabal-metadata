homepage: https://github.com/srid/rib#readme
changelog-type: markdown
hash: 1823efa75e4aa477d6d9ea855612348688cd0a782def9b2ad8755017f95c18e2
test-bench-deps:
  warp: -any
  modern-uri: -any
  shake: '>=0.18.5'
  mmark-ext: '>=0.2.1.0'
  exceptions: -any
  lucid: '>=2.9.11 && <2.10'
  clay: '>=0.13.3'
  wai: '>=3.2.2 && <3.3'
  time: -any
  dhall: '>=1.30 && <1.33'
  hspec: -any
  text: '>=1.2.3 && <1.3'
  mmark: '>=0.0.7.2'
  safe-exceptions: -any
  megaparsec: '>=8.0'
  filepath: -any
  async: -any
  base-noprelude: '>=4.12 && <4.14'
  pandoc-types: '>=1.20'
  containers: '>=0.6.0 && <0.7'
  pandoc: '>=2.7 && <3'
  binary: '>=0.8.6 && <0.9'
  relude: '>=0.6 && <0.8'
  iso8601-time: -any
  mtl: '>=2.2.2 && <2.3'
  foldl: -any
  cmdargs: '>=0.10.20 && <0.11'
  optparse-applicative: '>=0.15'
  QuickCheck: -any
  fsnotify: '>=0.3.0 && <0.4'
  wai-app-static: '>=3.1.6 && <3.2'
  aeson: '>=1.4.2 && <1.5'
  directory: '>=1.0 && <2.0'
maintainer: srid@srid.ca
synopsis: Static site generator based on Shake
changelog: "# Change Log for rib\n\n## 0.12\n\n- Removed pandoc-include-code\n- Allow
  dhall 1.30\n- default.nix: Allow overriding compiler\n\n## 0.10.0.0\n\n- API\n  -
  Dropped `path` and `path-io` in favour of good ol' `FilePath`\n    - This also lifts
  the restriction with absolute paths\n- Misc changes\n  - #145: CLI arguments have
  been revamped\n    - `serve` subcommand is replaced by the options `-wS`.\n    -
  Added `--input-dir/--output-dir` to override these paths\n    - Accept host string
  in addition to port number\n    - Exposed `Rib.Shake.getCliConfig` to get full CLI
  configuration\n    - Allow customizing fsnotify ignore list\n  - #141: Allow quiet
  logging (useful when rib is used as a library)\n\n## 0.8.0.0\n\n- Dependency upgrades\n
  \ - GHC 8.8\n  - pandoc-include-code: 0.5.0.0\n  - pandoc-types: 1.20\n  - dhall:
  1.30\n  - clay: 0.13.3 (This is a downgrade, as 0.14 is not released yet)\n- New
  features:\n  - API exposes the CLI parser (`optparse-applicative`) for user-level
  composition\n  - Add `Rib.Parser.Pandoc.getToC` returning rendered Table of contents
  for a Pandoc document\n  - Add `Rib.Parser.MMark.getFirstParagraphText`\n  - Add
  `Rib.Extra.OpenGraph` for Open Graph protocol\n  - Add to `Rib.Extra.CSS`, `googleFonts`
  and `stylesheet`\n- Bug fixes and misc changes:\n  - `routeUrl`: Fix incorrect substitution
  of \"foo-index.html\" with \"foo-\"\n  - Lucid rendering functions (like `MMark.render`)
  are now polymorphic in their monad.\n  - #122: Fix Pandoc parser never returning
  metadata\n  - #127: Rib's HTTP server now binds to `127.0.0.1`.\n  - Allow directory
  listings in HTTP server\n  - #130: Prevent unnecessary re-running of Shake action
  by debouncing fsnotify events\n  - #136: Move `.shake` database directory under
  `ribInputDir`\n  - default.nix: Takes `overrides` and `additional-packages` as extra
  arguments\n\n## 0.7.0.0\n\n- Dependency upgrades\n  - mmark: 0.0.7.2\n  - megaparsec:
  0.8\n  - clay: 0.14\n  - shake: 0.8.15\n- New features:\n  - Added Dhall parser,
  `Rib.Parser.Dhall`\n  - Add `Rib.Extra` containing useful but non-essential features\n-
  MMark, extensions removed:\n  - `ghcSyntaxHighlighter`: we already have `skylighting`
  (which supports more parsers than Haskell)\n  - `obfuscateEmail`: requires JS, which
  is not documented.\n- API changes:\n  - Introduced `Route` functionality for simpler
  management of static routes.\n    - Removed `buildHtmlMulti`, `buildHtml`, `readSource`
  functions and `Source` type.\n  - Introduced `Rib.Shake.forEvery` to run a Shake
  action over a pattern of files when they change.\n  - Exposed `Rib.Shake.writeFileCached`\n
  \ - `MMark.parse` and `Pandoc.parse` now automatically append path to `ribInputDir`
  and do not return Either.\n  - Added `MMark.parseWith` (and `parsePureWith`), to
  specify a custom list of mmark extensions\n- Bug fixes\n  - #95: Fix Shake error
  `resource busy (file is locked)`\n  - #97: Fix Shake error `AsyncCancelled` when
  server thread crashes\n  - #96 & #108: Drop problematic use of Shake `cacheActionWith`\n\n##
  0.6.0.0\n\n- Advance nixpkgs; require Shake >=0.18.4\n- Major API simplication:
  no more type class!\n  - Allow user to specify their own source parser as a Haskell
  function\n  - Removed types `Document` and `Markup` in favour of `Source`\n  - Expose
  `ribInputDir` and `ribOutputDir` for use in custom Shake actions\n- Bug fixes:\n
  \ - #63: create intermediate directories when generating post HTML\n  - #70: Don't
  crash on Shake errors\n  - Fix unnecessary rebuild of all files when only one file
  changed\n    - #66: Use caching (via Shake's `cacheActionWith`), to avoid writing
  HTML to disk until it has changed.\n\n## 0.5.0.0\n\nThis release comes with a major
  API refactor. Key changes:\n\n- Added MMark support, as an alternative to Pandoc\n-
  Allows using arbitrary records to load metadata\n  - This replaces the previous
  complex metadata API\n- Added `Document` type that uses the custom metadata record\n-
  Add top-level `Rib` import namespace for ease of use\n- Remove the following:\n
  \ - JSON cache\n  - `Rib.Simple`\n- Support for Table of Contents via MMark\n\nOther
  changes:\n\n- Use type-safe path types using the [path](http://hackage.haskell.org/package/path)
  library.\n- Fix #40: Gracefully handle rendering/ parsing errors, without dying.\n-
  Misc error reporting improvements\n\n## 0.4.1.0\n\n- `Rib.Pandoc`: \n  - Export
  `render'` and `renderInlines'` (the non-Lucid versions)\n  - Re-export `Text.Pandoc.Readers`
  so the library user does not have to directly depend on `pandoc` only to render
  its documents.\n- `Rib.App`: The `run` funtion now takes two more arguments, specifying
  the input and output directory, which are no longer hardcoded.\n- `Rib.Simple`:
  add LaTeX to default list of readers\n- `Rib.Server`: Remove \".html\" detection
  magic from URLs\n\n## 0.3.0.0\n\n- Rename `Rib.App.Watch` to `Rib.App.WatchAndGenerate`\n\n##
  0.2.0.0\n\n- Initial release.\n"
basic-deps:
  warp: -any
  modern-uri: -any
  shake: '>=0.18.5'
  mmark-ext: '>=0.2.1.0'
  exceptions: -any
  lucid: '>=2.9.11 && <2.10'
  clay: '>=0.13.3'
  wai: '>=3.2.2 && <3.3'
  time: -any
  dhall: '>=1.30 && <1.33'
  text: '>=1.2.3 && <1.3'
  mmark: '>=0.0.7.2'
  safe-exceptions: -any
  megaparsec: '>=8.0'
  filepath: -any
  async: -any
  base-noprelude: '>=4.12 && <4.14'
  pandoc-types: '>=1.20'
  containers: '>=0.6.0 && <0.7'
  pandoc: '>=2.7 && <3'
  binary: '>=0.8.6 && <0.9'
  relude: '>=0.6 && <0.8'
  iso8601-time: -any
  mtl: '>=2.2.2 && <2.3'
  foldl: -any
  cmdargs: '>=0.10.20 && <0.11'
  optparse-applicative: '>=0.15'
  fsnotify: '>=0.3.0 && <0.4'
  wai-app-static: '>=3.1.6 && <3.2'
  aeson: '>=1.4.2 && <1.5'
  directory: '>=1.0 && <2.0'
all-versions:
- 0.2.0.0
- 0.3.0.0
- 0.4.1.0
- 0.5.0.0
- 0.6.0.0
- 0.7.0.0
- 0.8.0.0
- 0.10.0.0
- 0.12.0.0
author: Sridhar Ratnakumar
latest: 0.12.0.0
description-type: markdown
description: |
  <img width="64px" src="./assets/rib.svg">

  # rib

  [![BSD3](https://img.shields.io/badge/License-BSD-blue.svg)](https://en.wikipedia.org/wiki/BSD_License)
  [![Hackage](https://img.shields.io/hackage/v/rib.svg)](https://hackage.haskell.org/package/rib)
  [![built with nix](https://img.shields.io/badge/builtwith-nix-purple.svg)](https://builtwithnix.org)
  [![Zulip chat](https://img.shields.io/badge/zulip-join_chat-brightgreen.svg)](https://funprog.zulipchat.com/#narrow/stream/218047-Rib)

  Rib is a Haskell **static site generator** based on Shake, with a delightful workflow.

  See <https://rib.srid.ca> for full documentation.

  ## Developing rib

  Use ghcid for quicker compilation cycles:

  ```bash
  nix-shell --run ghcid
  ```

  To test your changes, clone [rib-sample](https://github.com/srid/rib-sample) and run it using your local rib checkout:

  ```bash
  cd ..
  git clone https://github.com/srid/rib-sample.git
  cd rib-sample
  nix-shell --arg rib ../rib --run 'ghcid -T ":main -wS"'
  ```
license-name: BSD-3-Clause

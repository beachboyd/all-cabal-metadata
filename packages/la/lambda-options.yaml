homepage: https://github.com/thomaseding/lambda-options
changelog-type: ''
hash: 577f1a3b2fac332b6ce60b5b46f58bc3bb670fb20a8386f8678e090ec524e13a
test-bench-deps: {}
maintainer: Thomas Eding
synopsis: Declarative command-line parser using type-driven pattern matching.
changelog: ''
basic-deps:
  read-bounded: ^>=0.1.1.2
  base: ^>=4.12.0.0
  containers: ^>=0.6.0.1
  funspection: ^>=1.0.0.0
  mtl: ^>=2.2.2
all-versions:
- 0.1.0.0
- 0.2.0.0
- 0.3.0.0
- 0.4.0.0
- 0.4.0.1
- 0.4.0.2
- 0.5.0.0
- 0.5.1.0
- 0.6.0.0
- 0.7.0.0
- 0.8.0.0
- 0.9.0.0
- 0.9.0.1
- 0.9.1.0
- 1.0.0.0
- 1.0.1.0
author: Thomas Eding
latest: 1.0.1.0
description-type: markdown
description: |
  # lambda-options-haskell

  Declarative command line parser using type-driven pattern matching.

  * Easy to use. The API is expressive.
  * Easy to learn. The API is tiny and simple.

  Homepage: [https://github.com/thomaseding/lambda-options](https://github.com/thomaseding/lambda-options)

  Hackage: [https://hackage.haskell.org/package/lambda-options](https://hackage.haskell.org/package/lambda-options)

  --------------

  Basic example:
  ```haskell
  import qualified System.Environment as IO
  import qualified Text.LambdaOptions as L

  options :: L.Options (IO ()) ()
  options = do

    L.addOption
      (L.kw ["--help", "-h"]
      `L.text` "Display this help text.")
      $ do
        putStrLn "Usage:"
        putStrLn $ L.getHelpDescription options

    L.addOption
      (L.kw "--user"
      `L.argText` "NAME"
      `L.text` "Prints name.")
      $ \name -> do
        putStrLn $ "Name:" ++ name

    L.addOption
      (L.kw "--user"
      `L.argText` "NAME AGE"
      `L.text` "Prints name and age.")
      $ \name age -> do
        putStrLn $ "Name:" ++ name ++ " Age:" ++ show (age :: Int)

  main :: IO ()
  main = do
    args <- IO.getArgs
    case L.runOptions options args of
      Left e -> do
        putStrLn $ L.prettyOptionsError e
        putStrLn $ L.getHelpDescription options
      Right actions -> sequence_ actions
  ```

  ```
  $ example.exe --user HaskellCurry 81 --user GraceHopper
  Name:HaskellCurry Age:81
  Name:GraceHopper
  $ example.exe -h
  Usage:
   -h, --help                  Display this help text.
       --user NAME             Prints name.
       --user NAME AGE         Prints name and age.
  $ example.exe --user Pythagoras LXXV
  Unknown option at index 2: `LXXV'
  Usage:
   -h, --help                  Display this help text.
       --user NAME             Prints name.
       --user NAME AGE         Prints name and age.
  ```
license-name: BSD-3-Clause

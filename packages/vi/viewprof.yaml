homepage: https://github.com/maoe/viewprof
changelog-type: markdown
hash: 7dc1951f0d97f11304b53a58c7011d1e173a0ea9de15dc5719116d64e1ac3ad2
test-bench-deps: {}
maintainer: Mitsutoshi Aoe <me@maoe.name>
synopsis: Text-based interactive GHC .prof viewer
changelog: |
  # Revision history for viewprof

  ## 0.0.0.32 - 2019-10-19

  * Relax upper version bound for vty

  ## 0.0.0.31 - 2019-09-14

  * Relax upper version bound for brick

  ## 0.0.0.30 - 2019-09-09

  * Relax upper version bound for brick and lens

  ## 0.0.0.29 - 2019-08-31

  * Relax upper version bound for brick

  ## 0.0.0.28 - 2019-03-21

  * Relax upper version bound for brick

  ## 0.0.0.27 - 2019-01-08

  * Relax upper version bound for brick

  ## 0.0.0.26 - 2018-12-20

  * Relax upper version bound for brick
  * Test with GHC 8.6.3

  ## 0.0.0.25 - 2018-12-04

  * Relax upper version bound for brick

  ## 0.0.0.24 - 2018-11-15

  * Add support for GHC 8.6
      * Relax upper version bounds for base, vector-algorithms, and vty
      * Tighten lower version bound for brick to guide the dep solver

  ## 0.0.0.23 - 2018-09-07

  * Relax upper version bounds for brick and vty

  ## 0.0.0.22 - 2018-08-08

  * Relax upper version bounds for brick

  ## 0.0.0.21 - 2018-07-31

  * Relax upper version bounds for brick

  ## 0.0.0.20 - 2018-07-30

  * Relax upper version bounds for vty

  ## 0.0.0.19 - 2018-07-13

  * Relax upper version bounds for brick and vty

  ## 0.0.0.18 - 2018-07-07

  * Relax upper version bounds for lens and containers

  ## 0.0.0.17 - 2018-05-09

  * Relax upper version bounds for brick

  ## 0.0.0.16 - 2018-04-02

  * Relax upper version bound for brick

  ## 0.0.0.15 - 2018-03-21

  * Relax upper version bounds for base, vty and brick

  ## 0.0.0.14 - 2018-03-06

  * Relax upper version bounds for brick, lens and vty

  ## 0.0.0.13 - 2018-01-22

  * Relax upper version bound for brick
  * Better argument handling (#7 and #9)

  ## 0.0.0.12 - 2017-12-12

  * Relax upper version bound for vty

  ## 0.0.0.11 - 2017-11-07

  * Relax upper version bound for brick

  ## 0.0.0.10 - 2017-10-11

  * Relax upper version bound for brick

  ## 0.0.0.9 - 2017-10-07

  * Relax upper version bounds for vty and brick

  ## 0.0.0.8 - 2017-08-09

  * Relax upper version bound for vty and brick

  ## 0.0.0.7 - 2017-07-31

  * Relax upper version bound for base

  ## 0.0.0.6 - 2017-07-21

  * Relax upper version bound for vty

  ## 0.0.0.5 - 2017-07-10

  * Relax upper version bound for brick
  * Add Docker support on Windows

  ## 0.0.0.4 - 2017-06-28

  * Relax upper version bound for brick

  ## 0.0.0.3 - 2017-06-12

  * Relax upper version bound for brick

  ## 0.0.0.2 - 2017-02-14

  * Update ghc-prof to 1.4.0

  ## 0.0.0.1 - 2017-01-25

  * Relax upper version bounds for vty and brick

  ## 0.0.0 - 2017-01-20

  * Initial release
basic-deps:
  base: ! '>=4.9 && <4.13'
  text: ! '>=1.2.2.0 && <1.3'
  vty: ! '>=5.13 && <5.27'
  containers: ! '>=0.5.7 && <0.7'
  lens: ! '>=4.14 && <4.19'
  ghc-prof: ! '>=1.4 && <1.5'
  vector-algorithms: ! '>=0.6.0.4 && <0.9'
  scientific: ! '>=0.3.4.4 && <0.4'
  brick: ! '>0.26.1 && <0.51'
  vector: ! '>=0.10.12.3 && <0.13'
  directory: ! '>=1.3 && <1.4'
all-versions:
- 0.0.0
- 0.0.0.1
- 0.0.0.2
- 0.0.0.3
- 0.0.0.4
- 0.0.0.5
- 0.0.0.6
- 0.0.0.7
- 0.0.0.8
- 0.0.0.9
- 0.0.0.10
- 0.0.0.11
- 0.0.0.12
- 0.0.0.13
- 0.0.0.14
- 0.0.0.15
- 0.0.0.16
- 0.0.0.17
- 0.0.0.18
- 0.0.0.19
- 0.0.0.20
- 0.0.0.21
- 0.0.0.22
- 0.0.0.23
- 0.0.0.24
- 0.0.0.25
- 0.0.0.26
- 0.0.0.27
- 0.0.0.28
- 0.0.0.29
- 0.0.0.30
- 0.0.0.31
- 0.0.0.32
author: Mitsutoshi Aoe
latest: 0.0.0.32
description-type: markdown
description: |
  # viewprof
  [![Hackage](https://img.shields.io/hackage/v/viewprof.svg)](https://hackage.haskell.org/package/viewprof)
  [![Hackage-Deps](https://img.shields.io/hackage-deps/v/viewprof.svg)](http://packdeps.haskellers.com/feed?needle=viewprof)
  [![Stackage LTS](http://stackage.org/package/viewprof/badge/lts)](http://stackage.org/lts/package/viewprof)
  [![Stackage Nightly](http://stackage.org/package/viewprof/badge/nightly)](http://stackage.org/nightly/package/viewprof)
  [![Build Status](https://travis-ci.org/maoe/viewprof.svg?branch=master)](https://travis-ci.org/maoe/viewprof)

  viewprof is a text-based interactive GHC .prof viewer.

  ![screenshot](img/screenshot.png)

  It has three display modes:

  * __Aggregate cost centers view__: This is the default view. It groups cost centers by their name and module name, like the middle section of .prof files.
  * __Call sites view__: If you press enter on a cost center, viewprof displays call sites of the cost center you selected. This view tells how much the cost center spent for each call site.
  * __Modules view__: If you press M, viewprof displays the module level breakdown. This view tells coarse overview of cost attribution.

  ## Installation

  ```
  stack install viewprof
  ```

  ### On Windows

  #### Prerequisites

  - [Docker for Windows](https://docs.docker.com/docker-for-windows/install/) or [Docker Toolbox](https://docs.docker.com/toolbox/overview/).
      - Currently tried with: [Docker Toolbox v17.04.0ce](https://github.com/docker/toolbox/releases/tag/v17.04.0-ce) on Windows 10 Home.
  - [cygpath](https://cygwin.com/cygwin-ug-net/cygpath.html)
      - Bundled with [Cygwin](https://www.cygwin.com/), [MSYS2](http://www.msys2.org/) etc.

  #### How to install and launch

  ```bat
  git clone git@github.com:maoe/viewprof.git
  cd viewprof/docker
  docker-machine start
  docker build -t viewprof .
  .\viewprof.bat path/to/file.prof
  ```

  ## Usage

  | keys              | action                                      |
  |-------------------|---------------------------------------------|
  | `q` or `escape`   | quit the current view                       |
  | `j` or `↓`        | move focus down     　 　　　　　　           |
  | `k` or `↑`        | move focus up         　　　　　　　          |
  | `gg`              | move focus to the top                       |
  | `G`               | move focus to the bottom                    |
  | `C`               | display aggregate cost center view          |
  | `M`               | switch to module breakdown                  |
  | `enter`           | select a cost center and display call sites |
  | `t`               | sort by time                                |
  | `a`               | sort by allocation                          |
  | `e`               | sort by # of entries                        |
  | `h` or `?`        | show key bindings                           |
  | `i`               | show profile information                    |

  ## Acknowledgement

  `viewprof` was originally meant to be a Haskell port of [mkotha/viewprof](https://github.com/mkotha/viewprof), which is a text-based .prof viewer written in Common Lisp.
license-name: BSD-3-Clause

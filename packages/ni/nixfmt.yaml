homepage: https://github.com/serokell/nixfmt
changelog-type: markdown
hash: 7e2c0c1272a25a31b676cef860c7d804b9becc4210338164521373824af19cd6
test-bench-deps: {}
maintainer: lars.jellema@gmail.com
synopsis: An opinionated formatter for Nix
changelog: |
  <!-- © 2019 Serokell <hi@serokell.io>
     - © 2019 Lars Jellema <lars.jellema@gmail.com>
     -
     - SPDX-License-Identifier: MPL-2.0
     -->


  # Revision history for nixfmt

  ## 0.3.0 -- 2019-08-29

  * Added check flag for use in CI.
  * Added quiet flag to disable all output on stderr.
  * Further improved indentation.
  * Fixed bugs where Nix code with different semantics was emitted in some cases.

  ## 0.2.1 -- 2019-07-29

  * Fixed missing linebreaks in set abstractions.

  ## 0.2.0 -- 2019-07-25

  * Fixed indentation of binders and some other expressions.
  * Use atomic writes to avoid data loss.
  * Made idempotent.
  * Pinned nixpkgs.
  * Simplified some code.
  * Many other formatting improvements.

  ## 0.1.0 -- 2019-05-11

  * The first released version of nixfmt. This project aims to provide a
    consistent formatter for Nix code. This release is capable of parsing all of
    nixpkgs and formatting it in a consistent way. The generated code is not yet
    pretty in all places though and there are still some other issues as well.
basic-deps:
  unix: ! '>=2.7.2 && <2.8'
  base: ! '>=4.12.0 && <4.13'
  parser-combinators: ! '>=1.0.3 && <1.3'
  text: ! '>=1.2.3 && <1.3'
  safe-exceptions: ! '>=0.1.7 && <0.2'
  megaparsec: ! '>=7.0.5 && <7.1'
  filepath: ! '>=1.4.2 && <1.5'
  cmdargs: ! '>=0.10.20 && <0.11'
  nixfmt: -any
  directory: ! '>=1.3.3 && <1.4'
all-versions:
- 0.3.0
author: Lars Jellema
latest: 0.3.0
description-type: markdown
description: |
  <!-- © 2019 Serokell <hi@serokell.io>
     - © 2019 Lars Jellema <lars.jellema@gmail.com>
     -
     - SPDX-License-Identifier: MPL-2.0
     -->

  # `nixfmt`

  `nixfmt` is a formatter for Nix code, intended to easily apply a uniform style.

  You are encouraged to test this out on your code and submit any undesirable formatting you find as an issue

  [![Build Status](https://badge.buildkite.com/b37f73adea391439e63288e8fd3b47f4b98fb9640bb864ccfa.svg)](https://buildkite.com/serokell/nixfmt)
  [![Cachix](https://img.shields.io/badge/cachix-nixfmt-blue.svg)](https://nixfmt.cachix.org)

  ## Installation

  * Optional: `cachix use nixfmt`
  * `nix-env -f https://github.com/serokell/nixfmt/archive/master.tar.gz -i`


  ## Development

  ### With Nix

  Haskell dependencies will be built by Nix.

  * Enter `nix-shell`
  * Build with `cabal new-build`

  ### Without Nix

  Haskell dependencies will be bulit by Cabal.

  * Build with `cabal new-build`


  ## Usage

  * `nixfmt < input.nix` – reads Nix code form `stdin`, formats it, and outputs to `stdout`
  * `nixfmt file.nix` – format the file in place


  ## For Contributors

  We welcome issues and pull requests on GitHub.


  ## About Serokell

  `nixfmt` is maintained and funded with :heart: by
  [Serokell](https://serokell.io/). The names and logo for Serokell are trademark
  of Serokell OÜ.

  We love open source software! See
  [our other projects](https://serokell.io/community?utm_source=github) or
  [hire us](https://serokell.io/hire-us?utm_source=github) to design, develop and
  grow your idea!
license-name: MPL-2.0
